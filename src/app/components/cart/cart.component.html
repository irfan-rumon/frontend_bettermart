<app-navbar [totalAddedQuantity]="totalAddedQuanty"></app-navbar>

<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

<div class="row bootstrap snippets" *ngIf="cartProducts.length == 0">
    <h1 style="margin-top: 5rem; margin-left:38rem; margin-bottom: 20rem; color:red;">No Cart!!!</h1>
</div>  

<div  *ngIf="cartProducts.length > 0">
<div class="container bootdey">
<div class="row bootstrap snippets">
    <div class="col-lg-3 col-md-3 col-sm-12">
      
    </div>
    <div class="clearfix visible-sm"></div>

    <!-- Cart -->
    <div class="col-lg-9 col-md-9 col-sm-12">
        <div class="col-lg-12 col-sm-12">
            <h3 class="title m-4" style="color: blueviolet;text-align: center;">SHOPPING CART</h3>
        </div>
        <div class="col-lg-12 col-sm-12 hero-feature">
            <div class="table-responsive">
                <table class="table table-bordered tbl-cart">
                    <thead>
                        <tr>
                            <td class="header">Image</td>
                            <td class="header">Product Name</td>
                           
                            <td class="header">Brand</td>
                            <td class="td-qty header">Quantity</td>
                            <td class="header">Unit Price</td>
                            <td class="header">Sub Total</td>
                            <td class="header">Remove</td>
                        </tr>
                    </thead>
                    <tbody *ngFor="let cp of cartProducts">
                       
                        <tr>
                            <td class="medium-font">
                                <a href="#">
                                    <img src="{{cp.imageURL}}" alt="Adidas Men Red Printed T-shirt" title="" width="47" height="47">
                                </a>
                            </td>
                            <td class="medium-font">{{cp.name}}</td>
        
                            
                            <td class="medium-font">
                                {{cp.brand}}
                            </td>
                           
                            <td class="medium-font">
                                <div class="input-group bootstrap-touchspin">
                                 <button type="button" (click)="minusQuantity(cp)" style="margin-right: 1rem;" ><span style="font-size: 1rem; font-weight:bold;">-</span></button>   
                               
                                 {{cp.quantity}}

                                 <button type="button" (click)="addQuantity(cp)" style="margin-left: 1rem;" ><span style="font-size: 1rem; font-weight:bold;">+</span></button>    
                               
                               
                               
                            </div>
                            </td>
                            <td class="price medium-font">$ {{cp.unitPrice}}</td>
                            <td class="medium-font">${{cp.subtotal}}</td>
                            <td class="text-center">
                                <i class="bi bi-trash-fill" (click)="deleteCartProduct(cp)" style="color: red; font-size: 1.2rem;"></i>
                            </td>
                        </tr>
                        
                    </tbody>
                </table>    

                    <div style="margin-left: 22rem; margin-top:3rem;">
                        <div *ngIf="cartProducts.length > 0">
                            <h6 >Total:  <span style="color: rgb(35, 101, 4); margin-left: 1rem;"class=" mb-1 text-right ">${{total}}</span></h6>
                           
                        </div>
                        <div *ngIf="cartProducts.length > 0">
                            <h6 >Shipping:  <span style="color: rgb(35, 101, 4);  margin-left: 1rem;"class=" mb-1 text-right">${{shipping}}</span></h6>
                        </div>
                        <div id="tax" *ngIf="cartProducts.length > 0">
                            <h6 >Grand Total(Inc. Tax):<span style="color: rgb(35, 101, 4); margin-left: 1rem;"class=" mb-1 text-right">${{grandTotal}}</span></h6>
                           
                        </div>
                       
                    </div>
                    
               
            </div>

        </div>
    </div>
    <!-- End Cart -->
</div>
</div>

<div  class="row justify-content-center">
    <div class="col-lg-12">
        <div class="card">
            <div class="row">
               
                <form class="col-lg-5" #cardForm = "ngForm"  style="margin-left: 22rem;">
                    <div class="row px-2">
                        <div class="form-group col-md-6">
                            <label class="form-control-label header">Name on Card</label>
                            <input type="text" [(ngModel)]="card.cname" name="cname" #cname="ngModel"  required >
                            <div *ngIf="cname.invalid && (cname.dirty || cname.touched)" class="alert">

                                    <div *ngIf="cname.errors?.['required']" style="color:red;margin-bottom: 0.5rem;">
                                        *Card Name is required.
                                    </div>
             
                            </div>
                        </div>

                        <div class="form-group col-md-6">
                            <label class="form-control-label header">Card Number</label>
                            <input type="number" [(ngModel)]="card.cnum" name="cnum" #cnum="ngModel"  required >
                            <div *ngIf="cnum.invalid && (cnum.dirty || cnum.touched)" class="alert">

                                <div *ngIf="cnum.errors?.['required']" style="color:red;margin-bottom: 0.5rem;">
                                    *Card Number is required.
                                </div>
         
                            </div>
                        
                        </div>
                    </div>
                
                    <button type="submit" (click)=" onCheckout()"class="btn btn-primary btn-lg"  [disabled]="!cardForm.valid"
                style="padding-left: 2.5rem; padding-right: 2.5rem;margin-left: 12rem;margin-top: 2rem;">Checkout</button>
                    
                </form>
               
            </div>
        </div>
    </div>
</div>

</div>



<app-footer></app-footer>